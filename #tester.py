# tester
from bs4 import BeautifulSoup as bs
from urllib.parse import urlparse
from urllib.request import urlopen
from urllib.error import URLError, HTTPError
from h11 import Response
import urllib3
import pandas as pd
import requests
import time
import re
import os
import os.path
import sys

cvenumlink = "https://www.cvedetails.com/cve/CVE-2021-45486/"
html = requests.get(cvenumlink)
soup = bs(html.text,'html.parser')
cve_references = str(soup.find_all("td", class_="r_average"))
cve_references = re.sub('<.+?>','',cve_references,0).strip()
cve_references = cve_references.replace(" ", "").replace("\n", "").replace("\'", "").replace("]", "").replace("[", "")
git_links =  soup.find("a",text=re.compile('[Gg][Ii][Tt][.][Kk][Ee][Rr][Nn][Ee][Ll]'))    #git link 존재 유무 판별
if git_links != None:
    print(git_links.get("href"))
else :
    print("https://")

# a = len(arr)
# if a==2:
#     giturl = arr[1]
#     print(giturl)
# else:
#     print("https://")
