CVE Number : CVE-2012-6539
Commit Message : 
net: fix info leak in compat dev_ifconf()
Commit Details : 
The implementation of dev_ifconf() for the compat ioctl interface uses
an intermediate ifc structure allocated in userland for the duration of
the syscall. Though, it fails to initialize the padding bytes inserted
for alignment and that for leaks four bytes of kernel stack. Add an
explicit memset(0) before filling the structure to avoid the info leak.

Signed-off-by: Mathias Krause <minipli@googlemail.com>
Signed-off-by: David S. Miller <davem@davemloft.net>

Before patch : 
 	if (copy_from_user(&ifc32, uifc32, sizeof(struct compat_ifconf)))
 		return  EFAULT;
 
 	if (ifc32.ifcbuf == 0) {
 		ifc32.ifc_len = 0;
 		ifc.ifc_len = 0;
After patch : 
 	if (copy_from_user(&ifc32, uifc32, sizeof(struct compat_ifconf)))
 		return  EFAULT;
 
 	memset(&ifc, 0, sizeof(ifc));
 	if (ifc32.ifcbuf == 0) {
 		ifc32.ifc_len = 0;
 		ifc.ifc_len = 0;
