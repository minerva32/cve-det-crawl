CVE Number : CVE-2018-20511
Commit Message : 
net/appletalk: fix minor pointer leak to userspace in SIOCFINDIPDDPRT
Commit Details : 
Fields ->dev and ->next of struct ipddp_route may be copied to
userspace on the SIOCFINDIPDDPRT ioctl. This is only accessible
to CAP_NET_ADMIN though. Let's manually copy the relevant fields
instead of using memcpy().

BugLink: http://blog.infosectcbr.com.au/2018/09/linux-kernel-infoleaks.html
Cc: Jann Horn <jannh@google.com>
Signed-off-by: Willy Tarreau <w@1wt.eu>
Signed-off-by: David S. Miller <davem@davemloft.net>

Before patch : 
                 case SIOCFINDIPDDPRT:
 			spin_lock_bh(&ipddp_route_lock);
 			rp = __ipddp_find_route(&rcp);
 			if (rp)
 				memcpy(&rcp2, rp, sizeof(rcp2));
 			spin_unlock_bh(&ipddp_route_lock);
 
 			if (rp) {
After patch : 
                 case SIOCFINDIPDDPRT:
 			spin_lock_bh(&ipddp_route_lock);
 			rp = __ipddp_find_route(&rcp);
 			if (rp) {
 				memset(&rcp2, 0, sizeof(rcp2));
 				rcp2.ip    = rp >ip;
 				rcp2.at    = rp >at;
 				rcp2.flags = rp >flags;
 			}
 			spin_unlock_bh(&ipddp_route_lock);
 
 			if (rp) {
