CVE Number : CVE-2019-19252
Commit Message : 
serial: mvebu-uart: fix return value check in mvebu_uart_clock_probe()tty-testing
Commit Details : 
In case of error, the function devm_ioremap() returns NULL pointer
not ERR_PTR(). The IS_ERR() test in the return value check should
be replaced with NULL test.

Fixes: b7e2b5360f9b ("serial: mvebu-uart: implement UART clock driver for configuring UART base clock")
Reported-by: Hulk Robot <hulkci@huawei.com>
Reviewed-by: Pali Roh√°r <pali@kernel.org>
Signed-off-by: Wei Yongjun <weiyongjun1@huawei.com>
Link: https://lore.kernel.org/r/20220301075806.3950108-1-weiyongjun1@huawei.com
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

Before patch : 
 	 */
 	uart_clock_base >reg1 = devm_ioremap(dev, res >start,
 					     resource_size(res));
 	if (IS_ERR(uart_clock_base >reg1))
 		return PTR_ERR(uart_clock_base >reg1);
 
 	res = platform_get_resource(pdev, IORESOURCE_MEM, 1);
 	if (!res) {
 	 */
 	uart_clock_base >reg2 = devm_ioremap(dev, res >start,
 					     resource_size(res));
 	if (IS_ERR(uart_clock_base >reg2))
 		return PTR_ERR(uart_clock_base >reg2);
 
 	hw_clk_data = devm_kzalloc(dev,
 				   struct_size(hw_clk_data, hws,
After patch : 
 	 */
 	uart_clock_base >reg1 = devm_ioremap(dev, res >start,
 					     resource_size(res));
 	if (!uart_clock_base >reg1)
 		return  ENOMEM;
 
 	res = platform_get_resource(pdev, IORESOURCE_MEM, 1);
 	if (!res) {
 	 */
 	uart_clock_base >reg2 = devm_ioremap(dev, res >start,
 					     resource_size(res));
 	if (!uart_clock_base >reg2)
 		return  ENOMEM;
 
 	hw_clk_data = devm_kzalloc(dev,
 				   struct_size(hw_clk_data, hws,
