CVE Number : CVE-2013-2636
Commit Message : 
bridge: fix mdb info leaks
Commit Details : 
The bridging code discloses heap and stack bytes via the RTM_GETMDB
netlink interface and via the notify messages send to group RTNLGRP_MDB
afer a successful add/del.

Fix both cases by initializing all unset members/padding bytes with
memset(0).

Cc: Stephen Hemminger <stephen@networkplumber.org>
Signed-off-by: Mathias Krause <minipli@googlemail.com>
Signed-off-by: David S. Miller <davem@davemloft.net>

Before patch : 
 				port = p >port;
 				if (port) {
 					struct br_mdb_entry e;
 					e.ifindex = port >dev >ifindex;
 					e.state = p >state;
 					if (p >addr.proto == htons(ETH_P_IP))
 				break;
 
 			bpm = nlmsg_data(nlh);
 			bpm >ifindex = dev >ifindex;
 			if (br_mdb_fill_info(skb, cb, dev) < 0)
 				goto out;
 		return  EMSGSIZE;
 
 	bpm = nlmsg_data(nlh);
 	bpm >family  = AF_BRIDGE;
 	bpm >ifindex = dev >ifindex;
 	nest = nla_nest_start(skb, MDBA_MDB);
 {
 	struct br_mdb_entry entry;
 
 	entry.ifindex = port >dev >ifindex;
 	entry.addr.proto = group >proto;
 	entry.addr.u.ip4 = group >u.ip4;
After patch : 
 				port = p >port;
 				if (port) {
 					struct br_mdb_entry e;
 					memset(&e, 0, sizeof(e));
 					e.ifindex = port >dev >ifindex;
 					e.state = p >state;
 					if (p >addr.proto == htons(ETH_P_IP))
 				break;
 
 			bpm = nlmsg_data(nlh);
 			memset(bpm, 0, sizeof(*bpm));
 			bpm >ifindex = dev >ifindex;
 			if (br_mdb_fill_info(skb, cb, dev) < 0)
 				goto out;
 		return  EMSGSIZE;
 
 	bpm = nlmsg_data(nlh);
 	memset(bpm, 0, sizeof(*bpm));
 	bpm >family  = AF_BRIDGE;
 	bpm >ifindex = dev >ifindex;
 	nest = nla_nest_start(skb, MDBA_MDB);
 {
 	struct br_mdb_entry entry;
 
 	memset(&entry, 0, sizeof(entry));
 	entry.ifindex = port >dev >ifindex;
 	entry.addr.proto = group >proto;
 	entry.addr.u.ip4 = group >u.ip4;
