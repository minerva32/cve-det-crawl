CVE Number : CVE-2017-10810
Commit Message : 
drm/virtio: don't leak bo on drm_gem_object_init failure
Commit Details : 
Reported-by: 李强 <liqiang6-s@360.cn>
Signed-off-by: Gerd Hoffmann <kraxel@redhat.com>
Link: http://patchwork.freedesktop.org/patch/msgid/20170406155941.458-1-kraxel@redhat.com

Before patch : 
 		return  ENOMEM;
 	size = roundup(size, PAGE_SIZE);
 	ret = drm_gem_object_init(vgdev >ddev, &bo >gem_base, size);
 	if (ret != 0)
 		return ret;
 	bo >dumb = false;
 	virtio_gpu_init_ttm_placement(bo, pinned);
 
After patch : 
 		return  ENOMEM;
 	size = roundup(size, PAGE_SIZE);
 	ret = drm_gem_object_init(vgdev >ddev, &bo >gem_base, size);
 	if (ret != 0) {
 		kfree(bo);
 		return ret;
 	}
 	bo >dumb = false;
 	virtio_gpu_init_ttm_placement(bo, pinned);
 
