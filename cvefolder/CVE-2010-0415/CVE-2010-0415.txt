CVE Number : CVE-2010-0415
Commit Message : 
Fix potential crash with sys_move_pages
Commit Details : 
We incorrectly depended on the 'node_state/node_isset()' functions
testing the node range, rather than checking it explicitly.  That's not
reliable, even if it might often happen to work.  So do the proper
explicit test.

Reported-by: Marcus Meissner <meissner@suse.de>
Acked-and-tested-by: Brice Goglin <Brice.Goglin@inria.fr>
Acked-by: Hugh Dickins <hugh.dickins@tiscali.co.uk>
Cc: stable@kernel.org
Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

Before patch : 
 				goto out_pm;
 
 			err =  ENODEV;
 			if (!node_state(node, N_HIGH_MEMORY))
 				goto out_pm;
 
After patch : 
 				goto out_pm;
 
 			err =  ENODEV;
 			if (node < 0 || node >= MAX_NUMNODES)
 				goto out_pm;
 
 			if (!node_state(node, N_HIGH_MEMORY))
 				goto out_pm;
 
