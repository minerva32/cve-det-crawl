CVE Number : CVE-2009-4308
Commit Message : 
ext4: Avoid null pointer dereference when decoding EROFS w/o a journal
Commit Details : 
We need to check to make sure a journal is present before checking the
journal flags in ext4_decode_error().

Signed-off-by: Eric Sesterhenn <eric.sesterhenn@lsexperts.de>
Signed-off-by: "Theodore Ts'o" <tytso@mit.edu>

Before patch : 
 		errstr = "Out of memory";
 		break;
 	case  EROFS:
 		if (!sb || EXT4_SB(sb) >s_journal >j_flags & JBD2_ABORT)
 			errstr = "Journal has aborted";
 		else
 			errstr = "Readonly filesystem";
After patch : 
 		errstr = "Out of memory";
 		break;
 	case  EROFS:
 		if (!sb || (EXT4_SB(sb) >s_journal &&
 			    EXT4_SB(sb) >s_journal >j_flags & JBD2_ABORT))
 			errstr = "Journal has aborted";
 		else
 			errstr = "Readonly filesystem";
