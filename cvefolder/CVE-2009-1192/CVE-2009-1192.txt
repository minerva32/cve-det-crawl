CVE Number : CVE-2009-1192
Commit Message : 
agp: zero pages before sending to userspace
Commit Details : 
AGP pages might be mapped into userspace finally, so the pages should be
set to zero before userspace can use it. Otherwise there is potential
information leakage.

Signed-off-by: Shaohua Li <shaohua.li@intel.com>
Signed-off-by: Dave Airlie <airlied@redhat.com>

Before patch : 
 	int i, ret =  ENOMEM;
 
 	for (i = 0; i < num_pages; i  ) {
 		page = alloc_page(GFP_KERNEL | GFP_DMA32);
 		/* agp_free_memory() needs gart address */
 		if (page == NULL)
 			goto out;
 {
 	struct page * page;
 
 	page = alloc_page(GFP_KERNEL | GFP_DMA32);
 	if (page == NULL)
 		return NULL;
 
After patch : 
 	int i, ret =  ENOMEM;
 
 	for (i = 0; i < num_pages; i  ) {
 		page = alloc_page(GFP_KERNEL | GFP_DMA32 | __GFP_ZERO);
 		/* agp_free_memory() needs gart address */
 		if (page == NULL)
 			goto out;
 {
 	struct page * page;
 
 	page = alloc_page(GFP_KERNEL | GFP_DMA32 | __GFP_ZERO);
 	if (page == NULL)
 		return NULL;
 
