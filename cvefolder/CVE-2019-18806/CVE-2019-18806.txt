CVE Number : CVE-2019-18806
Commit Message : 
net: qlogic: Fix memory leak in ql_alloc_large_buffers
Commit Details : 
In ql_alloc_large_buffers, a new skb is allocated via netdev_alloc_skb.
This skb should be released if pci_dma_mapping_error fails.

Fixes: 0f8ab89e825f ("qla3xxx: Check return code from pci_map_single() in ql_release_to_lrg_buf_free_list(), ql_populate_free_queue(), ql_alloc_large_buffers(), and ql3xxx_send()")
Signed-off-by: Navid Emamdoost <navid.emamdoost@gmail.com>
Signed-off-by: David S. Miller <davem@davemloft.net>

Before patch : 
 				netdev_err(qdev >ndev,
 					   "PCI mapping failed with error: %d\n",
 					   err);
 				ql_free_large_buffers(qdev);
 				return  ENOMEM;
 			}
After patch : 
 				netdev_err(qdev >ndev,
 					   "PCI mapping failed with error: %d\n",
 					   err);
 				dev_kfree_skb_irq(skb);
 				ql_free_large_buffers(qdev);
 				return  ENOMEM;
 			}
