CVE Number : CVE-2017-8925
Commit Message : 
USB: serial: omninet: fix reference leaks at open
Commit Details : 
This driver needlessly took another reference to the tty on open, a
reference which was then never released on close. This lead to not just
a leak of the tty, but also a driver reference leak that prevented the
driver from being unloaded after a port had once been opened.

Fixes: 4a90f09b20f4 ("tty: usb-serial krefs")
Cc: stable <stable@vger.kernel.org>	# 2.6.28
Signed-off-by: Johan Hovold <johan@kernel.org>

Before patch : 
 
 static int omninet_open(struct tty_struct *tty, struct usb_serial_port *port)
 {
 	struct usb_serial	*serial = port >serial;
 	struct usb_serial_port	*wport;
 
 	wport = serial >port[1];
 	tty_port_tty_set(&wport >port, tty);
 
 	return usb_serial_generic_open(tty, port);
 }
 
After patch : 
 
 static int omninet_open(struct tty_struct *tty, struct usb_serial_port *port)
 {
 	return usb_serial_generic_open(tty, port);
 }
 
