CVE Number : CVE-2016-9685
Commit Message : 
xfs: fix two memory leaks in xfs_attr_list.c error paths
Commit Details : 
This plugs 2 trivial leaks in xfs_attr_shortform_list and
xfs_attr3_leaf_list_int.

Signed-off-by: Mateusz Guzik <mguzik@redhat.com>
Cc: <stable@vger.kernel.org>
Reviewed-by: Eric Sandeen <sandeen@redhat.com>
Signed-off-by: Dave Chinner <david@fromorbit.com>


Before patch : 
 					sbp >namelen,
 					sbp >valuelen,
 					&sbp >name[sbp >namelen]);
 		if (error)
 			return error;
 		if (context >seen_enough)
 			break;
 		cursor >offset  ;
 				args.rmtblkcnt = xfs_attr3_rmt_blocks(
 							args.dp >i_mount, valuelen);
 				retval = xfs_attr_rmtval_get(&args);
 				if (retval)
 					return retval;
 				retval = context >put_listent(context,
 						entry >flags,
 						name_rmt >name,
 						(int)name_rmt >namelen,
 						valuelen,
 						args.value);
 				kmem_free(args.value);
 			} else {
 				retval = context >put_listent(context,
After patch : 
 					sbp >namelen,
 					sbp >valuelen,
 					&sbp >name[sbp >namelen]);
 		if (error) {
 			kmem_free(sbuf);
 			return error;
 		}
 		if (context >seen_enough)
 			break;
 		cursor >offset  ;
 				args.rmtblkcnt = xfs_attr3_rmt_blocks(
 							args.dp >i_mount, valuelen);
 				retval = xfs_attr_rmtval_get(&args);
 				if (!retval)
 					retval = context >put_listent(context,
 							entry >flags,
 							name_rmt >name,
 							(int)name_rmt >namelen,
 							valuelen,
 							args.value);
 				kmem_free(args.value);
 			} else {
 				retval = context >put_listent(context,
