CVE Number : CVE-2013-2128
Commit Message : 
net: Fix oops from tcp_collapse() when using splice()
Commit Details : 
tcp_read_sock() can have a eat skbs without immediately advancing copied_seq.
This can cause a panic in tcp_collapse() if it is called as a result
of the recv_actor dropping the socket lock.

A userspace program that splices data from a socket to either another
socket or to a file can trigger this bug.

Signed-off-by: Steven J. Magnani <steve@digidescorp.com>
Signed-off-by: David S. Miller <davem@davemloft.net>

Before patch : 
 		sk_eat_skb(sk, skb, 0);
 		if (!desc >count)
 			break;
 	}
 	tp >copied_seq = seq;
 
After patch : 
 		sk_eat_skb(sk, skb, 0);
 		if (!desc >count)
 			break;
 		tp >copied_seq = seq;
 	}
 	tp >copied_seq = seq;
 
