CVE Number : CVE-2005-3857
Commit Message : 
PATCH Don't auto-reap traced children
Commit Details : 
If a task is being traced we never auto-reap it even if it might look
like its parent doesn't care. The tracer obviously _does_ care.

Signed-off-by: Linus Torvalds <torvalds@osdl.org>

Before patch : 
 
 	psig = tsk >parent >sighand;
 	spin_lock_irqsave(&psig >siglock, flags);
 	if (sig == SIGCHLD &&
 	    (psig >action[SIGCHLD 1].sa.sa_handler == SIG_IGN ||
 	     (psig >action[SIGCHLD 1].sa.sa_flags & SA_NOCLDWAIT))) {
 		/*
After patch : 
 
 	psig = tsk >parent >sighand;
 	spin_lock_irqsave(&psig >siglock, flags);
 	if (!tsk >ptrace && sig == SIGCHLD &&
 	    (psig >action[SIGCHLD 1].sa.sa_handler == SIG_IGN ||
 	     (psig >action[SIGCHLD 1].sa.sa_flags & SA_NOCLDWAIT))) {
 		/*
