CVE Number : CVE-2018-8087
Commit Message : 
mac80211_hwsim: fix possible memory leak in hwsim_new_radio_nl()
Commit Details : 
'hwname' is malloced in hwsim_new_radio_nl() and should be freed
before leaving from the error handling cases, otherwise it will cause
memory leak.

Fixes: ff4dd73dd2b4 ("mac80211_hwsim: check HWSIM_ATTR_RADIO_NAME length")
Signed-off-by: Wei Yongjun <weiyongjun1@huawei.com>
Reviewed-by: Ben Hutchings <ben.hutchings@codethink.co.uk>
Signed-off-by: Johannes Berg <johannes.berg@intel.com>

Before patch : 
 	if (info >attrs[HWSIM_ATTR_REG_CUSTOM_REG]) {
 		u32 idx = nla_get_u32(info >attrs[HWSIM_ATTR_REG_CUSTOM_REG]);
 
 		if (idx >= ARRAY_SIZE(hwsim_world_regdom_custom))
 			return  EINVAL;
 		param.regd = hwsim_world_regdom_custom[idx];
 	}
 
After patch : 
 	if (info >attrs[HWSIM_ATTR_REG_CUSTOM_REG]) {
 		u32 idx = nla_get_u32(info >attrs[HWSIM_ATTR_REG_CUSTOM_REG]);
 
 		if (idx >= ARRAY_SIZE(hwsim_world_regdom_custom)) {
 			kfree(hwname);
 			return  EINVAL;
 		}
 		param.regd = hwsim_world_regdom_custom[idx];
 	}
 
