CVE Number : CVE-2016-3951
Commit Message : 
usbnet: cleanup after bind() in probe()
Commit Details : 
In case bind() works, but a later error forces bailing
in probe() in error cases work and a timer may be scheduled.
They must be killed. This fixes an error case related to
the double free reported in
http://www.spinics.net/lists/netdev/msg367669.html
and needs to go on top of Linus' fix to cdc-ncm.

Signed-off-by: Oliver Neukum <ONeukum@suse.com>
Signed-off-by: David S. Miller <davem@davemloft.net>

Before patch : 
 	if (info >unbind)
 		info >unbind (dev, udev);
 out1:
 	free_netdev(net);
 out:
 	return status;
After patch : 
 	if (info >unbind)
 		info >unbind (dev, udev);
 out1:
 	/* subdrivers must undo all they did in bind() if they
 	 * fail it, but we may fail later and a deferred kevent
 	 * may trigger an error resubmitting itself and, worse,
 	 * schedule a timer. So we kill it all just in case.
 	 */
 	cancel_work_sync(&dev >kevent);
 	del_timer_sync(&dev >delay);
 	free_netdev(net);
 out:
 	return status;
